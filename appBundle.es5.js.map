{"version":3,"file":"appBundle.es5.js","sources":["../node_modules/deepmerge/dist/cjs.js","../../../../../usr/local/lib/node_modules/wpe-lightning-cli/src/alias/wpe-lightning.js","../node_modules/wpe-lightning-sdk/src/Lightning/index.js","../node_modules/wpe-lightning-sdk/src/Locale/index.js","../node_modules/wpe-lightning-sdk/src/Settings/index.js","../node_modules/wpe-lightning-sdk/src/Log/index.js","../node_modules/wpe-lightning-sdk/src/Metrics/index.js","../node_modules/wpe-lightning-sdk/src/VersionLabel/index.js","../node_modules/wpe-lightning-sdk/src/FpsCounter/index.js","../node_modules/wpe-lightning-sdk/src/Application/index.js","../node_modules/wpe-lightning-sdk/src/Utils/index.js","../node_modules/wpe-lightning-sdk/src/Img/ScaledImageTexture.js","../node_modules/wpe-lightning-sdk/src/Img/index.js","../node_modules/wpe-lightning-sdk/src/Profile/helpers.js","../node_modules/wpe-lightning-sdk/src/Profile/defaults.js","../node_modules/wpe-lightning-sdk/src/Profile/index.js","../node_modules/wpe-lightning-sdk/src/MediaPlayer/index.js","../node_modules/localCookie/module/localCookie.js","../node_modules/wpe-lightning-sdk/src/Storage/index.js","../node_modules/wpe-lightning-sdk/src/Launch/index.js","../src/Player.js","../lib/Api.js","../src/loader/Splash.js","../src/loader/Loader.js","../src/components/SliderItem.js","../src/components/Slider.js","../src/browse/Browse.js","../src/details/Details.js","../src/menu/Menu.js","../src/App.js","../src/index.js"],"sourcesContent":["'use strict';\n\nvar isMergeableObject = function isMergeableObject(value) {\n\treturn isNonNullObject(value)\n\t\t&& !isSpecial(value)\n};\n\nfunction isNonNullObject(value) {\n\treturn !!value && typeof value === 'object'\n}\n\nfunction isSpecial(value) {\n\tvar stringValue = Object.prototype.toString.call(value);\n\n\treturn stringValue === '[object RegExp]'\n\t\t|| stringValue === '[object Date]'\n\t\t|| isReactElement(value)\n}\n\n// see https://github.com/facebook/react/blob/b5ac963fb791d1298e7f396236383bc955f916c1/src/isomorphic/classic/element/ReactElement.js#L21-L25\nvar canUseSymbol = typeof Symbol === 'function' && Symbol.for;\nvar REACT_ELEMENT_TYPE = canUseSymbol ? Symbol.for('react.element') : 0xeac7;\n\nfunction isReactElement(value) {\n\treturn value.$$typeof === REACT_ELEMENT_TYPE\n}\n\nfunction emptyTarget(val) {\n\treturn Array.isArray(val) ? [] : {}\n}\n\nfunction cloneUnlessOtherwiseSpecified(value, options) {\n\treturn (options.clone !== false && options.isMergeableObject(value))\n\t\t? deepmerge(emptyTarget(value), value, options)\n\t\t: value\n}\n\nfunction defaultArrayMerge(target, source, options) {\n\treturn target.concat(source).map(function(element) {\n\t\treturn cloneUnlessOtherwiseSpecified(element, options)\n\t})\n}\n\nfunction getMergeFunction(key, options) {\n\tif (!options.customMerge) {\n\t\treturn deepmerge\n\t}\n\tvar customMerge = options.customMerge(key);\n\treturn typeof customMerge === 'function' ? customMerge : deepmerge\n}\n\nfunction getEnumerableOwnPropertySymbols(target) {\n\treturn Object.getOwnPropertySymbols\n\t\t? Object.getOwnPropertySymbols(target).filter(function(symbol) {\n\t\t\treturn target.propertyIsEnumerable(symbol)\n\t\t})\n\t\t: []\n}\n\nfunction getKeys(target) {\n\treturn Object.keys(target).concat(getEnumerableOwnPropertySymbols(target))\n}\n\nfunction propertyIsOnObject(object, property) {\n\ttry {\n\t\treturn property in object\n\t} catch(_) {\n\t\treturn false\n\t}\n}\n\n// Protects from prototype poisoning and unexpected merging up the prototype chain.\nfunction propertyIsUnsafe(target, key) {\n\treturn propertyIsOnObject(target, key) // Properties are safe to merge if they don't exist in the target yet,\n\t\t&& !(Object.hasOwnProperty.call(target, key) // unsafe if they exist up the prototype chain,\n\t\t\t&& Object.propertyIsEnumerable.call(target, key)) // and also unsafe if they're nonenumerable.\n}\n\nfunction mergeObject(target, source, options) {\n\tvar destination = {};\n\tif (options.isMergeableObject(target)) {\n\t\tgetKeys(target).forEach(function(key) {\n\t\t\tdestination[key] = cloneUnlessOtherwiseSpecified(target[key], options);\n\t\t});\n\t}\n\tgetKeys(source).forEach(function(key) {\n\t\tif (propertyIsUnsafe(target, key)) {\n\t\t\treturn\n\t\t}\n\n\t\tif (propertyIsOnObject(target, key) && options.isMergeableObject(source[key])) {\n\t\t\tdestination[key] = getMergeFunction(key, options)(target[key], source[key], options);\n\t\t} else {\n\t\t\tdestination[key] = cloneUnlessOtherwiseSpecified(source[key], options);\n\t\t}\n\t});\n\treturn destination\n}\n\nfunction deepmerge(target, source, options) {\n\toptions = options || {};\n\toptions.arrayMerge = options.arrayMerge || defaultArrayMerge;\n\toptions.isMergeableObject = options.isMergeableObject || isMergeableObject;\n\t// cloneUnlessOtherwiseSpecified is added to `options` so that custom arrayMerge()\n\t// implementations can use it. The caller may not replace it.\n\toptions.cloneUnlessOtherwiseSpecified = cloneUnlessOtherwiseSpecified;\n\n\tvar sourceIsArray = Array.isArray(source);\n\tvar targetIsArray = Array.isArray(target);\n\tvar sourceAndTargetTypesMatch = sourceIsArray === targetIsArray;\n\n\tif (!sourceAndTargetTypesMatch) {\n\t\treturn cloneUnlessOtherwiseSpecified(source, options)\n\t} else if (sourceIsArray) {\n\t\treturn options.arrayMerge(target, source, options)\n\t} else {\n\t\treturn mergeObject(target, source, options)\n\t}\n}\n\ndeepmerge.all = function deepmergeAll(array, options) {\n\tif (!Array.isArray(array)) {\n\t\tthrow new Error('first argument should be an array')\n\t}\n\n\treturn array.reduce(function(prev, next) {\n\t\treturn deepmerge(prev, next, options)\n\t}, {})\n};\n\nvar deepmerge_1 = deepmerge;\n\nmodule.exports = deepmerge_1;\n","/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2020 RDK Management\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport default window.lng\n","/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2020 RDK Management\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport Lightning from 'wpe-lightning'\nexport default Lightning\n","/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2020 RDK Management\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Simple module for localization of strings.\n *\n * How to use:\n * 1. Create localization file with following JSON format:\n * {\n *   \"en\" :{\n *     \"how\": \"How do you want your egg today?\",\n *     \"boiledEgg\": \"Boiled egg\",\n *     \"softBoiledEgg\": \"Soft-boiled egg\",\n *     \"choice\": \"How to choose the egg\",\n *     \"buyQuestion\": \"I'd like to buy {0} eggs, {1} dollars each.\"\n *   },\n *\n *   \"it\": {\n *     \"how\": \"Come vuoi il tuo uovo oggi?\",\n *     \"boiledEgg\": \"Uovo sodo\",\n *     \"softBoiledEgg\": \"Uovo alla coque\",\n *     \"choice\": \"Come scegliere l'uovo\",\n *     \"buyQuestion\": \"Mi piacerebbe comprare {0} uova, {1} dollari ciascuna.\"\n *   }\n * }\n *\n * 2. Use Locale's module load method, specifying path to your localization file and set chosen language, e.g.:\n *    > Locale.load('static/locale/locale.json');\n *    > Locale.setLanguage('en');\n *\n * 3. Use localization strings:\n *    > console.log(Locale.tr.how);\n *    How do you want your egg today?\n *    > console.log(Locale.tr.boiledEgg);\n *    Boiled egg\n *\n * 4. String formatting\n *    > console.log(Locale.tr.buyQuestion.format(10, 0.5));\n *    I'd like to buy 10 eggs, 0.5 dollars each.\n */\n\nclass Locale {\n  constructor() {\n    this.__enabled = false\n  }\n\n  /**\n   * Loads translation object from external json file.\n   *\n   * @param {String} path Path to resource.\n   * @return {Promise}\n   */\n  async load(path) {\n    if (!this.__enabled) {\n      return\n    }\n\n    await fetch(path)\n      .then(resp => resp.json())\n      .then(resp => {\n        this.loadFromObject(resp)\n      })\n  }\n\n  /**\n   * Sets language used by module.\n   *\n   * @param {String} lang\n   */\n  setLanguage(lang) {\n    this.__enabled = true\n    this.language = lang\n  }\n\n  /**\n   * Returns reference to translation object for current language.\n   *\n   * @return {Object}\n   */\n  get tr() {\n    return this.__trObj[this.language]\n  }\n\n  /**\n   * Loads translation object from existing object (binds existing object).\n   *\n   * @param {Object} trObj\n   */\n  loadFromObject(trObj) {\n    this.__trObj = trObj\n    for (const lang of Object.values(this.__trObj)) {\n      for (const str of Object.keys(lang)) {\n        lang[str] = new LocalizedString(lang[str])\n      }\n    }\n  }\n}\n\n/**\n * Extended string class used for localization.\n */\nclass LocalizedString extends String {\n  /**\n   * Returns formatted LocalizedString.\n   * Replaces each placeholder value (e.g. {0}, {1}) with corresponding argument.\n   *\n   * E.g.:\n   * > new LocalizedString('{0} and {1} and {0}').format('A', 'B');\n   * A and B and A\n   *\n   * @param  {...any} args List of arguments for placeholders.\n   */\n  format(...args) {\n    const sub = args.reduce((string, arg, index) => string.split(`{${index}}`).join(arg), this)\n    return new LocalizedString(sub)\n  }\n}\n\nexport default new Locale()\n","/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2020 RDK Management\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nconst settings = {}\n\nexport const initSettings = (appSettings, platformSettings) => {\n  settings['app'] = appSettings\n  settings['platform'] = platformSettings\n}\n\n// todo: support key for nested settings with dot notation? e.g. stage.useImageworker from 'app' settings\nexport default {\n  get(type, key) {\n    return settings[type] && settings[type][key]\n  },\n  has(type, key) {\n    return settings[type] && key in settings[type]\n  },\n}\n","/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2020 RDK Management\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport Settings from '../Settings'\n\nconst prepLog = (type, args) => {\n  const colors = {\n    Info: 'green',\n    Debug: 'gray',\n    Warn: 'orange',\n    Error: 'red',\n  }\n\n  args = Array.from(args)\n  return [\n    '%c' + (args.length > 1 && typeof args[0] === 'string' ? args.shift() : type),\n    'background-color: ' + colors[type] + '; color: white; padding: 2px 4px; border-radius: 2px',\n    args,\n  ]\n}\n\nexport default {\n  info() {\n    Settings.get('platform', 'log') && console.log.apply(console, prepLog('Info', arguments))\n  },\n  debug() {\n    Settings.get('platform', 'log') && console.debug.apply(console, prepLog('Debug', arguments))\n  },\n  error() {\n    Settings.get('platform', 'log') && console.error.apply(console, prepLog('Error', arguments))\n  },\n  warn() {\n    Settings.get('platform', 'log') && console.warn.apply(console, prepLog('Warn', arguments))\n  },\n}\n","/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2020 RDK Management\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport Log from '../Log'\n\nlet sendMetric = (type, event, params) => {\n  Log.info('Sending metric', type, event, params)\n}\n\nexport const initMetrics = config => {\n  sendMetric = config.sendMetric\n}\n\n// available metric per category\nconst metrics = {\n  app: ['launch', 'loaded', 'ready', 'close'],\n  page: ['view', 'leave'],\n  user: ['click', 'input'],\n  media: [\n    'abort',\n    'canplay',\n    'ended',\n    'pause',\n    'play',\n    'suspend',\n    'volumechange',\n    'waiting',\n    'seeking',\n    'seeked',\n  ],\n}\n\n// error metric function (added to each category)\nconst errorMetric = (type, message, code, visible, params = {}) => {\n  params = { params, ...{ message, code, visible } }\n  sendMetric(type, 'error', params)\n}\n\nconst Metric = (type, events, options = {}) => {\n  return events.reduce(\n    (obj, event) => {\n      obj[event] = (name, params = {}) => {\n        params = { ...options, ...(name ? { name } : {}), ...params }\n        sendMetric(type, event, params)\n      }\n      return obj\n    },\n    {\n      error(message, code, params) {\n        errorMetric(type, message, code, params)\n      },\n      event(name, params) {\n        sendMetric(type, name, params)\n      },\n    }\n  )\n}\n\nconst Metrics = types => {\n  return Object.keys(types).reduce(\n    (obj, type) => {\n      // media metric works a bit different!\n      // it's a function that accepts a url and returns an object with the available metrics\n      // url is automatically passed as a param in every metric\n      type === 'media'\n        ? (obj[type] = url => Metric(type, types[type], { url }))\n        : (obj[type] = Metric(type, types[type]))\n      return obj\n    },\n    { error: errorMetric, event: sendMetric }\n  )\n}\n\nexport default Metrics(metrics)\n","/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2020 RDK Management\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport Lightning from '../Lightning'\n\nexport default class VersionLabel extends Lightning.Component {\n  static _template() {\n    return {\n      rect: true,\n      color: 0xbb0078ac,\n      h: 40,\n      w: 100,\n      x: w => w - 50,\n      y: h => h - 50,\n      mount: 1,\n      Text: {\n        w: w => w,\n        h: h => h,\n        y: 5,\n        text: {\n          fontSize: 22,\n          textAlign: 'center',\n        },\n      },\n    }\n  }\n\n  set version(version) {\n    this.tag('Text').text = `v${version}`\n    this.tag('Text').loadTexture()\n    this.w = this.tag('Text').renderWidth + 40\n  }\n}\n","/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2020 RDK Management\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport Lightning from '../Lightning'\nimport Settings from '../Settings'\nimport Log from '../Log'\nexport default class FpsIndicator extends Lightning.Component {\n  static _template() {\n    return {\n      rect: true,\n      color: 0xffffffff,\n      texture: Lightning.Tools.getRoundRect(80, 80, 40),\n      h: 80,\n      w: 80,\n      x: 100,\n      y: 100,\n      mount: 1,\n      Background: {\n        x: 3,\n        y: 3,\n        texture: Lightning.Tools.getRoundRect(72, 72, 36),\n        color: 0xff008000,\n      },\n      Counter: {\n        w: w => w,\n        h: h => h,\n        y: 10,\n        text: {\n          fontSize: 32,\n          textAlign: 'center',\n        },\n      },\n      Text: {\n        w: w => w,\n        h: h => h,\n        y: 48,\n        text: {\n          fontSize: 15,\n          textAlign: 'center',\n          text: 'FPS',\n        },\n      },\n    }\n  }\n\n  _setup() {\n    this.config = {\n      ...{\n        log: false,\n        interval: 500,\n        threshold: 1,\n      },\n      ...Settings.get('platform', 'showFps'),\n    }\n\n    this.fps = 0\n    this.lastFps = this.fps - this.config.threshold\n\n    const fpsCalculator = () => {\n      this.fps = ~~(1 / this.stage.dt)\n    }\n    this.stage.on('frameStart', fpsCalculator)\n    this.stage.off('framestart', fpsCalculator)\n    this.interval = setInterval(this.showFps.bind(this), this.config.interval)\n  }\n\n  _firstActive() {\n    this.showFps()\n  }\n\n  _detach() {\n    clearInterval(this.interval)\n  }\n\n  showFps() {\n    if (Math.abs(this.lastFps - this.fps) <= this.config.threshold) return\n    this.lastFps = this.fps\n    // green\n    let bgColor = 0xff008000\n    // orange\n    if (this.fps <= 40 && this.fps > 20) bgColor = 0xffffa500\n    // red\n    else if (this.fps <= 20) bgColor = 0xffff0000\n\n    this.tag('Background').setSmooth('color', bgColor)\n    this.tag('Counter').text = `${this.fps}`\n\n    this.config.log && Log.info('FPS', this.fps)\n  }\n}\n","/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2020 RDK Management\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport Deepmerge from 'deepmerge'\nimport Lightning from '../Lightning'\nimport Locale from '../Locale'\nimport Metrics from '../Metrics'\nimport VersionLabel from '../VersionLabel'\nimport FpsCounter from '../FpsCounter'\nimport Log from '../Log'\n\nconst defaultOptions = {\n  stage: { w: 1920, h: 1080, clearColor: 0x00000000, canvas2d: false },\n  debug: false,\n  defaultFontFace: 'RobotoRegular',\n  keys: {\n    8: 'Back',\n    13: 'Enter',\n    27: 'Menu',\n    37: 'Left',\n    38: 'Up',\n    39: 'Right',\n    40: 'Down',\n    174: 'ChannelDown',\n    175: 'ChannelUp',\n    178: 'Stop',\n    250: 'PlayPause',\n    191: 'Search', // Use \"/\" for keyboard\n    409: 'Search',\n  },\n}\n\nif (window.innerHeight === 720) {\n  defaultOptions.stage['w'] = 1280\n  defaultOptions.stage['h'] = 720\n  defaultOptions.stage['precision'] = 0.6666666667\n}\n\nexport default function(App, appData, platformSettings) {\n  return class Application extends Lightning.Application {\n    constructor(options) {\n      const config = Deepmerge(defaultOptions, options)\n      super(config)\n      this.config = config\n    }\n\n    static _template() {\n      return {\n        w: 1920,\n        h: 1080,\n        rect: true,\n        color: 0x00000000,\n      }\n    }\n\n    _setup() {\n      Promise.all([\n        this.loadFonts((App.config && App.config.fonts) || (App.getFonts && App.getFonts()) || []),\n        Locale.load((App.config && App.config.locale) || (App.getLocale && App.getLocale())),\n      ])\n        .then(() => {\n          Metrics.app.loaded()\n          this.childList.a({\n            ref: 'App',\n            type: App,\n            appData,\n            forceZIndexContext: !!platformSettings.showVersion || !!platformSettings.showFps,\n          })\n\n          if (platformSettings.showVersion) {\n            this.childList.a({\n              ref: 'VersionLabel',\n              type: VersionLabel,\n              version: this.config.version,\n            })\n          }\n\n          if (platformSettings.showFps) {\n            this.childList.a({\n              ref: 'FpsCounter',\n              type: FpsCounter,\n            })\n          }\n\n          super._setup()\n        })\n        .catch(console.error)\n    }\n\n    _handleBack() {\n      this.closeApp()\n    }\n\n    _handleExit() {\n      this.closeApp()\n    }\n\n    closeApp() {\n      if (platformSettings.onClose && typeof platformSettings.onClose === 'function') {\n        platformSettings.onClose()\n      } else {\n        this.close()\n      }\n    }\n\n    close() {\n      Log.info('Closing App')\n      this.childList.remove(this.tag('App'))\n\n      // force texture garbage collect\n      this.stage.gc()\n      this.destroy()\n    }\n\n    loadFonts(fonts) {\n      return new Promise((resolve, reject) => {\n        fonts\n          .map(({ family, url, descriptors }) => () => {\n            const fontFace = new FontFace(family, 'url(' + url + ')', descriptors || {})\n            document.fonts.add(fontFace)\n            return fontFace.load()\n          })\n          .reduce((promise, method) => {\n            return promise.then(() => method())\n          }, Promise.resolve(null))\n          .then(resolve)\n          .catch(reject)\n      })\n    }\n\n    _getFocused() {\n      return this.tag('App')\n    }\n  }\n}\n","/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2020 RDK Management\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nlet basePath\nlet proxyUrl\n\nexport const initUtils = config => {\n  basePath = ensureUrlWithProtocol(makeFullStaticPath(window.location.pathname, config.path || '/'))\n\n  if (config.proxyUrl) {\n    proxyUrl = ensureUrlWithProtocol(config.proxyUrl)\n  }\n}\n\nexport default {\n  asset(relPath) {\n    return basePath + relPath\n  },\n  proxyUrl(url, options = {}) {\n    return proxyUrl ? proxyUrl + '?' + makeQueryString(url, options) : url\n  },\n  makeQueryString() {\n    return makeQueryString(...arguments)\n  },\n  // since imageworkers don't work without protocol\n  ensureUrlWithProtocol() {\n    return ensureUrlWithProtocol(...arguments)\n  },\n}\n\nexport const ensureUrlWithProtocol = url => {\n  if (/^\\/\\//.test(url)) {\n    return window.location.protocol + url\n  }\n  if (!/^(?:https?:)/i.test(url)) {\n    return window.location.origin + url\n  }\n  return url\n}\n\nexport const makeFullStaticPath = (pathname = '/', path) => {\n  // ensure path has traling slash\n  path = path.charAt(path.length - 1) !== '/' ? path + '/' : path\n\n  // if path is URL, we assume it's already the full static path, so we just return it\n  if (/^(?:https?:)?(?:\\/\\/)/.test(path)) {\n    return path\n  }\n\n  if (path.charAt(0) === '/') {\n    return path\n  } else {\n    // cleanup the pathname (i.e. remove possible index.html)\n    pathname = cleanUpPathName(pathname)\n\n    // remove possible leading dot from path\n    path = path.charAt(0) === '.' ? path.substr(1) : path\n    // ensure path has leading slash\n    path = path.charAt(0) !== '/' ? '/' + path : path\n    return pathname + path\n  }\n}\n\nexport const cleanUpPathName = pathname => {\n  if (pathname.slice(-1) === '/') return pathname.slice(0, -1)\n  const parts = pathname.split('/')\n  if (parts[parts.length - 1].indexOf('.') > -1) parts.pop()\n  return parts.join('/')\n}\n\nconst makeQueryString = (url, options = {}, type = 'url') => {\n  // add operator as an option\n  options.operator = 'metrological' // Todo: make this configurable (via url?)\n  // add type (= url or qr) as an option, with url as the value\n  options[type] = url\n\n  return Object.keys(options)\n    .map(key => {\n      return encodeURIComponent(key) + '=' + encodeURIComponent('' + options[key])\n    })\n    .join('&')\n}\n","/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2020 RDK Management\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport Lightning from '../Lightning'\n\nexport default class ScaledImageTexture extends Lightning.textures.ImageTexture {\n  constructor(stage) {\n    super(stage)\n    this._scalingOptions = undefined\n  }\n\n  set options(options) {\n    this.resizeMode = this._scalingOptions = options\n  }\n\n  _getLookupId() {\n    return `${this._src}-${this._scalingOptions.type}-${this._scalingOptions.w}-${this._scalingOptions.h}`\n  }\n\n  getNonDefaults() {\n    const obj = super.getNonDefaults()\n    if (this._src) {\n      obj.src = this._src\n    }\n    return obj\n  }\n}\n","/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2020 RDK Management\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport Utils from '../Utils'\nimport Settings from '../Settings'\nimport ScaledImageTexture from './ScaledImageTexture'\n\nexport default (imageUrl, options) => {\n  const imageServerUrl = Settings.get('platform', 'imageServerUrl')\n\n  // make and return ScaledImageTexture\n  const make = options => {\n    // local asset, wrap it in Utils.asset()\n    if (!/^(?:https?:)?\\/\\//i.test(imageUrl)) {\n      imageUrl = Utils.asset(imageUrl)\n    }\n\n    // only pass to image server if imageServerUrl is configured\n    // and if the asset isn't local to the app (i.e. has same origin)\n    if (imageServerUrl && imageUrl.indexOf(window.location.origin) === -1) {\n      imageUrl = Utils.ensureUrlWithProtocol(\n        imageServerUrl + '?' + Utils.makeQueryString(imageUrl, options)\n      )\n    } else {\n      // Lightning will handle the resizing and has only 2 flavours (cover and contain)\n      if (options.type === 'crop') options.type = 'cover'\n      else options.type = 'contain'\n    }\n\n    return {\n      type: ScaledImageTexture,\n      src: imageUrl,\n      options: options,\n    }\n  }\n\n  // merge options with default\n  const setOptions = options => {\n    return {\n      ...{\n        type: 'contain',\n        w: 0,\n        h: 0,\n      },\n      ...options,\n    }\n  }\n\n  // if options are passed, return scaled image right away\n  if (options) {\n    return make(setOptions(options))\n  }\n\n  // otherwise return 'chained' functions\n  return {\n    // official api\n    exact: (w, h) => make(setOptions({ type: 'exact', w, h })),\n    landscape: w => make(setOptions({ type: 'landscape', w })),\n    // fixme: remove deprecated stuff in future release of SDK\n    portrait: (w_but_actually_h, deprecated_h) => {\n      if (typeof deprecated_h !== 'undefined' && deprecated_h !== null) {\n        console.warn(\n          \"The signature of the 'portrait()'-method has changed, soon it will only accept the height as a single argument (instead of 'portrait(width, height)')\"\n        )\n        w_but_actually_h = deprecated_h\n      }\n      return make(setOptions({ type: 'portrait', h: w_but_actually_h }))\n    },\n    cover: (w, h) => make(setOptions({ type: 'cover', w, h })),\n    contain: (w, h) => make(setOptions({ type: 'contain', w, h })),\n    original: () => make(setOptions({ type: 'contain' })),\n\n    // todo: add positioning - i.e. top, bottom, center, left etc.\n\n    // FIXME: remove deprecated api (summer of 2020)\n    crop: (w, h) => {\n      console.warn(\n        \"The 'crop()'-method is deprecated and will be removed. Please use 'cover()' instead\"\n      )\n      return make(setOptions({ type: 'cover', w, h }))\n    },\n    fit: (w, h) => {\n      console.warn(\n        \"The 'fit()'-method is deprecated and will be removed. Please use 'exact()' instead\"\n      )\n      return make(setOptions({ type: 'exact', w, h }))\n    },\n    parent: (w, h) => {\n      console.warn(\n        \"The 'parent()'-method is deprecated and will be removed. Please use 'exact()' instead\"\n      )\n      return make(setOptions({ type: 'exact', w, h }))\n    },\n    height: (w, h) => {\n      console.warn(\n        \"The 'height()'-method is deprecated and will be removed. Please use 'portrait()' instead\"\n      )\n      return make(setOptions({ type: 'portrait', w, h }))\n    },\n    width: (w, h) => {\n      console.warn(\n        \"The 'width()'-method is deprecated and will be removed. Please use 'landscape()' instead\"\n      )\n      return make(setOptions({ type: 'landscape', w, h }))\n    },\n    auto: (w, h) => {\n      console.warn(\n        \"The 'auto()'-method is deprecated and will be removed. Please use 'cover()' instead\"\n      )\n      return make(setOptions({ type: 'contain', w, h }))\n    },\n  }\n}\n","/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2020 RDK Management\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nconst formatLocale = locale => {\n  if (locale && locale.length === 2) {\n    return `${locale.toLowerCase()}-${locale.toUpperCase()}`\n  } else {\n    return locale\n  }\n}\n\nexport const getLocale = defaultValue => {\n  if ('language' in navigator) {\n    const locale = formatLocale(navigator.language)\n    return Promise.resolve(locale)\n  } else {\n    return Promise.resolve(defaultValue)\n  }\n}\n\nexport const getLanguage = defaultValue => {\n  if ('language' in navigator) {\n    const language = formatLocale(navigator.language).slice(0, 2)\n    return Promise.resolve(language)\n  } else {\n    return Promise.resolve(defaultValue)\n  }\n}\n\nexport const getCountryCode = defaultValue => {\n  if ('language' in navigator) {\n    const countryCode = formatLocale(navigator.language).slice(3, 5)\n    return Promise.resolve(countryCode)\n  } else {\n    return Promise.resolve(defaultValue)\n  }\n}\n\nexport const getLatLon = defaultValue => {\n  return new Promise(resolve => {\n    const geoLocationSuccess = success => {\n      const coords = success && success.coords\n      return resolve([coords.latitude, coords.longitude])\n    }\n    const geoLocationError = error => {\n      return resolve(defaultValue)\n    }\n    const geoLocationOptions = {\n      enableHighAccuracy: true,\n      timeout: 5000,\n      maximumAge: 0,\n    }\n\n    if ('geolocation' in navigator) {\n      navigator.geolocation.getCurrentPosition(\n        geoLocationSuccess,\n        geoLocationError,\n        geoLocationOptions\n      )\n    } else {\n      return resolve(defaultValue)\n    }\n  })\n}\n","/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2020 RDK Management\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { getLocale, getLanguage, getCountryCode, getLatLon } from './helpers'\n\nexport const defaultProfile = {\n  ageRating: 'adult',\n  city: 'New York',\n  countryCode: getCountryCode('US'),\n  ip: '127.0.0.1',\n  household: 'b2244e9d4c04826ccd5a7b2c2a50e7d4',\n  language: getLanguage('en'),\n  latlon: getLatLon([40.7128, 74.006]),\n  locale: getLocale('en-US'),\n  mac: '00:00:00:00:00:00',\n  operator: 'Metrological',\n  platform: 'Metrological',\n  packages: [],\n  uid: 'ee6723b8-7ab3-462c-8d93-dbf61227998e',\n  stbType: 'Metrological',\n}\n","/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2020 RDK Management\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport Settings from '../Settings'\nimport { defaultProfile } from './defaults'\n\nlet getInfo = key => {\n  const profile = { ...defaultProfile, ...Settings.get('platform', 'profile') }\n  return Promise.resolve(profile[key])\n}\n\nlet setInfo = (key, params) => {\n  if (key in defaultProfile) defaultProfile[key] = params\n}\n\nexport const initProfile = config => {\n  getInfo = config.getInfo\n  setInfo = config.setInfo\n}\n\nconst getOrSet = (key, params) => (params ? setInfo(key, params) : getInfo(key))\n\n// public API\nexport default {\n  ageRating(params) {\n    return getOrSet('ageRating', params)\n  },\n  city(params) {\n    return getOrSet('city', params)\n  },\n  countryCode(params) {\n    return getOrSet('countryCode', params)\n  },\n  ip(params) {\n    return getOrSet('ip', params)\n  },\n  household(params) {\n    return getOrSet('household', params)\n  },\n  language(params) {\n    return getOrSet('language', params)\n  },\n  latlon(params) {\n    return getOrSet('latlon', params)\n  },\n  locale(params) {\n    return getOrSet('locale', params)\n  },\n  mac(params) {\n    return getOrSet('mac', params)\n  },\n  operator(params) {\n    return getOrSet('operator', params)\n  },\n  platform(params) {\n    return getOrSet('platform', params)\n  },\n  packages(params) {\n    return getOrSet('packages', params)\n  },\n  uid(params) {\n    return getOrSet('uid', params)\n  },\n  stbType(params) {\n    return getOrSet('stbType', params)\n  },\n}\n","/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2020 RDK Management\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport Lightning from '../Lightning'\nimport Metrics from '../Metrics'\nimport Settings from '../Settings'\nimport Log from '../Log'\n\nconst events = [\n  'timeupdate',\n  'error',\n  'ended',\n  'loadeddata',\n  'canplay',\n  'play',\n  'playing',\n  'pause',\n  'loadstart',\n  'seeking',\n  'seeked',\n  'encrypted',\n]\n\nlet mediaUrl = url => url\n\nexport const initMediaPlayer = config => {\n  if (config.mediaUrl) {\n    mediaUrl = config.mediaUrl\n  }\n}\n\nexport default class Mediaplayer extends Lightning.Component {\n  _construct() {\n    this._skipRenderToTexture = false\n    this._metrics = null\n    this._textureMode = Settings.get('platform', 'textureMode') || false\n    Log.info('Texture mode: ' + this._textureMode)\n  }\n\n  static _template() {\n    return {\n      Video: {\n        VideoWrap: {\n          VideoTexture: {\n            visible: false,\n            pivot: 0.5,\n            texture: { type: Lightning.textures.StaticTexture, options: {} },\n          },\n        },\n      },\n    }\n  }\n\n  set skipRenderToTexture(v) {\n    this._skipRenderToTexture = v\n  }\n\n  get textureMode() {\n    return this._textureMode\n  }\n\n  get videoView() {\n    return this.tag('Video')\n  }\n\n  _init() {\n    //re-use videotag if already there\n    const videoEls = document.getElementsByTagName('video')\n    if (videoEls && videoEls.length > 0) this.videoEl = videoEls[0]\n    else {\n      this.videoEl = document.createElement('video')\n      this.videoEl.setAttribute('id', 'video-player')\n      this.videoEl.style.position = 'absolute'\n      this.videoEl.style.zIndex = '1'\n      this.videoEl.style.display = 'none'\n      this.videoEl.setAttribute('width', '100%')\n      this.videoEl.setAttribute('height', '100%')\n\n      this.videoEl.style.visibility = this.textureMode ? 'hidden' : 'visible'\n      document.body.appendChild(this.videoEl)\n    }\n    if (this.textureMode && !this._skipRenderToTexture) {\n      this._createVideoTexture()\n    }\n\n    this.eventHandlers = []\n  }\n\n  _registerListeners() {\n    events.forEach(event => {\n      const handler = e => {\n        if (this._metrics[event] && typeof this._metrics[event] === 'function') {\n          this._metrics[event]({ currentTime: this.videoEl.currentTime })\n        }\n        this.fire(event, { videoElement: this.videoEl, event: e })\n      }\n      this.eventHandlers.push(handler)\n      this.videoEl.addEventListener(event, handler)\n    })\n  }\n\n  _deregisterListeners() {\n    Log.info('Deregistering event listeners MediaPlayer')\n    events.forEach((event, index) => {\n      this.videoEl.removeEventListener(event, this.eventHandlers[index])\n    })\n    this.eventHandlers = []\n  }\n\n  _attach() {\n    this._registerListeners()\n  }\n\n  _detach() {\n    this._deregisterListeners()\n    this.close()\n  }\n\n  _createVideoTexture() {\n    const stage = this.stage\n\n    const gl = stage.gl\n    const glTexture = gl.createTexture()\n    gl.bindTexture(gl.TEXTURE_2D, glTexture)\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR)\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR)\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE)\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE)\n\n    this.videoTexture.options = { source: glTexture, w: this.videoEl.width, h: this.videoEl.height }\n  }\n\n  _startUpdatingVideoTexture() {\n    if (this.textureMode && !this._skipRenderToTexture) {\n      const stage = this.stage\n      if (!this._updateVideoTexture) {\n        this._updateVideoTexture = () => {\n          if (this.videoTexture.options.source && this.videoEl.videoWidth && this.active) {\n            const gl = stage.gl\n\n            const currentTime = new Date().getTime()\n\n            // When BR2_PACKAGE_GST1_PLUGINS_BAD_PLUGIN_DEBUGUTILS is not set in WPE, webkitDecodedFrameCount will not be available.\n            // We'll fallback to fixed 30fps in this case.\n            const frameCount = this.videoEl.webkitDecodedFrameCount\n\n            const mustUpdate = frameCount\n              ? this._lastFrame !== frameCount\n              : this._lastTime < currentTime - 30\n\n            if (mustUpdate) {\n              this._lastTime = currentTime\n              this._lastFrame = frameCount\n              try {\n                gl.bindTexture(gl.TEXTURE_2D, this.videoTexture.options.source)\n                gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, false)\n                gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, this.videoEl)\n                this._lastFrame = this.videoEl.webkitDecodedFrameCount\n                this.videoTextureView.visible = true\n\n                this.videoTexture.options.w = this.videoEl.videoWidth\n                this.videoTexture.options.h = this.videoEl.videoHeight\n                const expectedAspectRatio = this.videoTextureView.w / this.videoTextureView.h\n                const realAspectRatio = this.videoEl.videoWidth / this.videoEl.videoHeight\n                if (expectedAspectRatio > realAspectRatio) {\n                  this.videoTextureView.scaleX = realAspectRatio / expectedAspectRatio\n                  this.videoTextureView.scaleY = 1\n                } else {\n                  this.videoTextureView.scaleY = expectedAspectRatio / realAspectRatio\n                  this.videoTextureView.scaleX = 1\n                }\n              } catch (e) {\n                Log.error('texImage2d video', e)\n                this._stopUpdatingVideoTexture()\n                this.videoTextureView.visible = false\n              }\n              this.videoTexture.source.forceRenderUpdate()\n            }\n          }\n        }\n      }\n      if (!this._updatingVideoTexture) {\n        stage.on('frameStart', this._updateVideoTexture)\n        this._updatingVideoTexture = true\n      }\n    }\n  }\n\n  _stopUpdatingVideoTexture() {\n    if (this.textureMode) {\n      const stage = this.stage\n      stage.removeListener('frameStart', this._updateVideoTexture)\n      this._updatingVideoTexture = false\n      this.videoTextureView.visible = false\n\n      if (this.videoTexture.options.source) {\n        const gl = stage.gl\n        gl.bindTexture(gl.TEXTURE_2D, this.videoTexture.options.source)\n        gl.clearColor(0, 0, 0, 1)\n        gl.clear(gl.COLOR_BUFFER_BIT)\n      }\n    }\n  }\n\n  updateSettings(settings = {}) {\n    // The Component that 'consumes' the media player.\n    this._consumer = settings.consumer\n\n    if (this._consumer && this._consumer.getMediaplayerSettings) {\n      // Allow consumer to add settings.\n      settings = Object.assign(settings, this._consumer.getMediaplayerSettings())\n    }\n\n    if (!Lightning.Utils.equalValues(this._stream, settings.stream)) {\n      if (settings.stream && settings.stream.keySystem) {\n        navigator\n          .requestMediaKeySystemAccess(\n            settings.stream.keySystem.id,\n            settings.stream.keySystem.config\n          )\n          .then(keySystemAccess => {\n            return keySystemAccess.createMediaKeys()\n          })\n          .then(createdMediaKeys => {\n            return this.videoEl.setMediaKeys(createdMediaKeys)\n          })\n          .then(() => {\n            if (settings.stream && settings.stream.src) this.open(settings.stream.src)\n          })\n          .catch(() => {\n            console.error('Failed to set up MediaKeys')\n          })\n      } else if (settings.stream && settings.stream.src) {\n        // This is here to be backwards compatible, will be removed\n        // in future sdk release\n        if (Settings.get('app', 'hls')) {\n          if (!window.Hls) {\n            window.Hls = class Hls {\n              static isSupported() {\n                console.warn('hls-light not included')\n                return false\n              }\n            }\n          }\n          if (window.Hls.isSupported()) {\n            if (!this._hls) this._hls = new window.Hls({ liveDurationInfinity: true })\n            this._hls.loadSource(settings.stream.src)\n            this._hls.attachMedia(this.videoEl)\n            this.videoEl.style.display = 'block'\n          }\n        } else {\n          this.open(settings.stream.src)\n        }\n      } else {\n        this.close()\n      }\n      this._stream = settings.stream\n    }\n\n    this._setHide(settings.hide)\n    this._setVideoArea(settings.videoPos)\n  }\n\n  _setHide(hide) {\n    if (this.textureMode) {\n      this.tag('Video').setSmooth('alpha', hide ? 0 : 1)\n    } else {\n      this.videoEl.style.visibility = hide ? 'hidden' : 'visible'\n    }\n  }\n\n  open(url, settings = { hide: false, videoPosition: null }) {\n    // prep the media url to play depending on platform (mediaPlayerplugin)\n    url = mediaUrl(url)\n    this._metrics = Metrics.media(url)\n    Log.info('Playing stream', url)\n    if (this.application.noVideo) {\n      Log.info('noVideo option set, so ignoring: ' + url)\n      return\n    }\n    if (this.videoEl.getAttribute('src') === url) return this.reload()\n    this.videoEl.setAttribute('src', url)\n\n    this.videoEl.style.display = 'block'\n\n    this._setHide(settings.hide)\n    this._setVideoArea(settings.videoPosition || [0, 0, 1920, 1080])\n  }\n\n  close() {\n    // We need to pause first in order to stop sound.\n    this.videoEl.pause()\n    this.videoEl.removeAttribute('src')\n\n    // force load to reset everything without errors\n    this.videoEl.load()\n\n    this._clearSrc()\n\n    this.videoEl.style.display = 'none'\n  }\n\n  playPause() {\n    if (this.isPlaying()) {\n      this.doPause()\n    } else {\n      this.doPlay()\n    }\n  }\n\n  get muted() {\n    return this.videoEl.muted\n  }\n\n  set muted(v) {\n    this.videoEl.muted = v\n  }\n\n  get loop() {\n    return this.videoEl.loop\n  }\n\n  set loop(v) {\n    this.videoEl.loop = v\n  }\n\n  isPlaying() {\n    return this._getState() === 'Playing'\n  }\n\n  doPlay() {\n    this.videoEl.play()\n  }\n\n  doPause() {\n    this.videoEl.pause()\n  }\n\n  reload() {\n    var url = this.videoEl.getAttribute('src')\n    this.close()\n    this.videoEl.src = url\n  }\n\n  getPosition() {\n    return Promise.resolve(this.videoEl.currentTime)\n  }\n\n  setPosition(pos) {\n    this.videoEl.currentTime = pos\n  }\n\n  getDuration() {\n    return Promise.resolve(this.videoEl.duration)\n  }\n\n  seek(time, absolute = false) {\n    if (absolute) {\n      this.videoEl.currentTime = time\n    } else {\n      this.videoEl.currentTime += time\n    }\n  }\n\n  get videoTextureView() {\n    return this.tag('Video').tag('VideoTexture')\n  }\n\n  get videoTexture() {\n    return this.videoTextureView.texture\n  }\n\n  _setVideoArea(videoPos) {\n    if (Lightning.Utils.equalValues(this._videoPos, videoPos)) {\n      return\n    }\n\n    this._videoPos = videoPos\n\n    if (this.textureMode) {\n      this.videoTextureView.patch({\n        smooth: {\n          x: videoPos[0],\n          y: videoPos[1],\n          w: videoPos[2] - videoPos[0],\n          h: videoPos[3] - videoPos[1],\n        },\n      })\n    } else {\n      const precision = this.stage.getRenderPrecision()\n      this.videoEl.style.left = Math.round(videoPos[0] * precision) + 'px'\n      this.videoEl.style.top = Math.round(videoPos[1] * precision) + 'px'\n      this.videoEl.style.width = Math.round((videoPos[2] - videoPos[0]) * precision) + 'px'\n      this.videoEl.style.height = Math.round((videoPos[3] - videoPos[1]) * precision) + 'px'\n    }\n  }\n\n  _fireConsumer(event, args) {\n    if (this._consumer) {\n      this._consumer.fire(event, args)\n    }\n  }\n\n  _equalInitData(buf1, buf2) {\n    if (!buf1 || !buf2) return false\n    if (buf1.byteLength != buf2.byteLength) return false\n    const dv1 = new Int8Array(buf1)\n    const dv2 = new Int8Array(buf2)\n    for (let i = 0; i != buf1.byteLength; i++) if (dv1[i] != dv2[i]) return false\n    return true\n  }\n\n  error(args) {\n    this._fireConsumer('$mediaplayerError', args)\n    this._setState('')\n    return ''\n  }\n\n  loadeddata(args) {\n    this._fireConsumer('$mediaplayerLoadedData', args)\n  }\n\n  play(args) {\n    this._fireConsumer('$mediaplayerPlay', args)\n  }\n\n  playing(args) {\n    this._fireConsumer('$mediaplayerPlaying', args)\n    this._setState('Playing')\n  }\n\n  canplay(args) {\n    this.videoEl.play()\n    this._fireConsumer('$mediaplayerStart', args)\n  }\n\n  loadstart(args) {\n    this._fireConsumer('$mediaplayerLoad', args)\n  }\n\n  seeked() {\n    this._fireConsumer('$mediaplayerSeeked', {\n      currentTime: this.videoEl.currentTime,\n      duration: this.videoEl.duration || 1,\n    })\n  }\n\n  seeking() {\n    this._fireConsumer('$mediaplayerSeeking', {\n      currentTime: this.videoEl.currentTime,\n      duration: this.videoEl.duration || 1,\n    })\n  }\n\n  durationchange(args) {\n    this._fireConsumer('$mediaplayerDurationChange', args)\n  }\n\n  encrypted(args) {\n    const video = args.videoElement\n    const event = args.event\n    // FIXME: Double encrypted events need to be properly filtered by Gstreamer\n    if (video.mediaKeys && !this._equalInitData(this._previousInitData, event.initData)) {\n      this._previousInitData = event.initData\n      this._fireConsumer('$mediaplayerEncrypted', args)\n    }\n  }\n\n  static _states() {\n    return [\n      class Playing extends this {\n        $enter() {\n          this._startUpdatingVideoTexture()\n        }\n        $exit() {\n          this._stopUpdatingVideoTexture()\n        }\n        timeupdate() {\n          this._fireConsumer('$mediaplayerProgress', {\n            currentTime: this.videoEl.currentTime,\n            duration: this.videoEl.duration || 1,\n          })\n        }\n        ended(args) {\n          this._fireConsumer('$mediaplayerEnded', args)\n          this._setState('')\n        }\n        pause(args) {\n          this._fireConsumer('$mediaplayerPause', args)\n          this._setState('Playing.Paused')\n        }\n        _clearSrc() {\n          this._fireConsumer('$mediaplayerStop', {})\n          this._setState('')\n        }\n        static _states() {\n          return [class Paused extends this {}]\n        }\n      },\n    ]\n  }\n}\n","class localCookie{constructor(e){return e=e||{},this.forceCookies=e.forceCookies||!1,!0===this._checkIfLocalStorageWorks()&&!0!==e.forceCookies?{getItem:this._getItemLocalStorage,setItem:this._setItemLocalStorage,removeItem:this._removeItemLocalStorage,clear:this._clearLocalStorage}:{getItem:this._getItemCookie,setItem:this._setItemCookie,removeItem:this._removeItemCookie,clear:this._clearCookies}}_checkIfLocalStorageWorks(){if(\"undefined\"==typeof localStorage)return!1;try{return localStorage.setItem(\"feature_test\",\"yes\"),\"yes\"===localStorage.getItem(\"feature_test\")&&(localStorage.removeItem(\"feature_test\"),!0)}catch(e){return!1}}_getItemLocalStorage(e){return window.localStorage.getItem(e)}_setItemLocalStorage(e,t){return window.localStorage.setItem(e,t)}_removeItemLocalStorage(e){return window.localStorage.removeItem(e)}_clearLocalStorage(){return window.localStorage.clear()}_getItemCookie(e){var t=document.cookie.match(RegExp(\"(?:^|;\\\\s*)\"+function(e){return e.replace(/([.*+?\\^${}()|\\[\\]\\/\\\\])/g,\"\\\\$1\")}(e)+\"=([^;]*)\"));return t&&\"\"===t[1]&&(t[1]=null),t?t[1]:null}_setItemCookie(e,t){document.cookie=`${e}=${t}`}_removeItemCookie(e){document.cookie=`${e}=;Max-Age=-99999999;`}_clearCookies(){document.cookie.split(\";\").forEach(e=>{document.cookie=e.replace(/^ +/,\"\").replace(/=.*/,\"=;expires=Max-Age=-99999999\")})}}export default localCookie;\n","/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2020 RDK Management\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport Settings from '../Settings'\nimport localCookie from 'localCookie'\n\nlet namespace\nlet lc\n\nexport const initStorage = () => {\n  namespace = Settings.get('platform', 'appId')\n  // todo: pass options (for example to force the use of cookies)\n  lc = new localCookie()\n}\n\nconst namespacedKey = key => (namespace ? [namespace, key].join('.') : key)\n\nexport default {\n  get(key) {\n    try {\n      return JSON.parse(lc.getItem(namespacedKey(key)))\n    } catch (e) {\n      return null\n    }\n  },\n  set(key, value) {\n    try {\n      lc.setItem(namespacedKey(key), JSON.stringify(value))\n      return true\n    } catch (e) {\n      return false\n    }\n  },\n  remove(key) {\n    lc.removeItem(namespacedKey(key))\n  },\n  clear() {\n    if (namespace) {\n      lc.keys().forEach(key => {\n        // remove the item if in the namespace\n        key.indexOf(namespace + '.') === 0 ? lc.removeItem(key) : null\n      })\n    } else {\n      lc.clear()\n    }\n  },\n}\n","/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2020 RDK Management\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { initUtils } from '../Utils'\nimport { initProfile } from '../Profile'\nimport { initMetrics } from '../Metrics'\nimport { initSettings } from '../Settings'\nimport { initMediaPlayer } from '../MediaPlayer'\nimport { initStorage } from '../Storage'\nimport Application from '../Application'\n\nexport default (App, appSettings, platformSettings, appData) => {\n  initSettings(appSettings, platformSettings)\n\n  initUtils(platformSettings)\n  initStorage()\n\n  // Initialize plugins\n  if (platformSettings.plugins) {\n    platformSettings.plugins.profile && initProfile(platformSettings.plugins.profile)\n    platformSettings.plugins.metrics && initMetrics(platformSettings.plugins.metrics)\n    platformSettings.plugins.mediaPlayer && initMediaPlayer(platformSettings.plugins.mediaPlayer)\n  }\n\n  const app = Application(App, appData, platformSettings)\n  return new app(appSettings)\n}\n","import { Lightning, MediaPlayer } from 'wpe-lightning-sdk'\n\n\nexport default class Player extends Lightning.Component  {\n    \n    static _template() {\n        return {\n            MediaPlayer: {\n                type: MediaPlayer,\n            },\n        }\n    }\n    \n    _firstActive() {\n        this.tag('MediaPlayer').updateSettings({consumer: this});\n        this.tag('MediaPlayer').open('http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4');\n    }\n    \n    // Canplay\n    $mediaPlayerCanplay () {\n        console.log(\"Canplay\")\n    }\n    \n    // Playing\n    $mediaplayerPlaying () {\n        console.log(\"Playing\")\n    }\n    \n    // Ended\n    $mediaplayerEnded() {\n        console.log(\"Ended\")\n        this.tag('MediaPlayer').seek(0)\n    }\n    \n    // Timeupdate\n    $mediaplayerTimeupdate() {\n        console.log(\"Timeupdate\")\n    }\n    \n    // Error\n    $mediaplayerError() {\n        console.log(\"Error\")\n    }\n    \n    // Loadeddata\n    $mediaplayerLoadeddata() {\n        console.log(\"Loadeddata\")\n    }\n    \n    // Play\n    $mediaplayerPlay() {\n        console.log(\"Play\")\n    }\n    \n    // Pause\n    $mediaplayerPause() {\n        console.log(\"Pause\")\n    }\n    \n    // Loadstart\n    $mediaplayerLoadstart() {\n        console.log(\"Loadstart\")\n    }\n    \n    // Seeking\n    $mediaplayerSeeking() {\n        console.log(\"Seeking\")\n    }\n\n    // Seeked\n    $mediaplayerSeeked() {\n        console.log(\"Seeked\")\n    }\n\n    // Encrypted\n    $mediaplayerEncrypted() {\n        console.log(\"Encrypted\")\n    }\n}","export default class Api{\n    getAppData(){\n        const promises = [\n            this._getMovies(),\n            this._getTvShows()\n        ];\n        return Promise.all(promises);\n    }\n\n    _getMovies(){\n        return fetch(\"./static/movies.json\").then((response)=>{\n            return response.json();\n        }).then((data)=>{\n            return {ref:\"Movies\", data};\n        });\n    }\n\n    async _getTvShows(){\n        const stream = await fetch(\"./static/series.json\");\n        const data = await stream.json();\n        return {ref:\"TvShows\", data};\n    }\n}\n\n","import { Utils } from 'wpe-lightning-sdk' \n\nexport default class Splash extends lng.Component{\n\n    static _template(){\n        return {\n            Background:{\n                src:Utils.asset(\"background.png\")\n            },\n            GrayBackdrop:{\n                src:Utils.asset(\"gradient.png\"), scale:1.1, w:1920, h:1080, y: 1000, x:200, rotation: -0.3\n            },\n            Logo:{\n                src:Utils.asset(\"movies-tv-logo.png\"), y: 714, x:1100, rotation: -0.3\n            }\n        };\n    }\n\n    _init(){\n        this._setState(\"Loading\");\n        this._createAnimations();\n        this._register();\n    }\n\n    _createAnimations(){\n        this._reveal = this.animation({\n            duration:1.3, repeat: 0, delay:1, actions:[\n                {t:'Background', p:'y', v:{0.20:0,1:-550}},\n                {t:'GrayBackdrop', p:'rotation', v:{0:-0.3,1:0}},\n                {t:'GrayBackdrop', p:'scale', v:{0.6:1.1,1:1}},\n                {t:'GrayBackdrop', p:'y', v:{0:1000,1:0}},\n                {t:'GrayBackdrop', p:'x', v:{0:200,1:0}},\n                {t:'Logo', p:'y', v:{0:714,1:-400}},\n                {t:'Logo', p:'rotation', v:{0:-0.3,1:-0}},\n            ]\n        });\n    }\n\n    _register(){\n        this._reveal.on(\"finish\",()=>{\n            this.signal(\"animationFinished\");\n        });\n    }\n\n    startAnimation(){\n        this._start();\n    }\n\n    static _states(){\n        return [\n            class Loading extends this{\n                _start(){\n                    this._reveal.start();\n                }\n            },\n            class Error extends this{\n                $enter(){\n                    // signal error & retry\n                }\n                $exit(){\n                    // signal that we exit Error state\n                }\n            }\n        ];\n    }\n}","import { Utils } from 'wpe-lightning-sdk' \n\nexport default class Loader extends lng.Component{\n\n    static _template(){\n        return {\n            rect: true, w:1920, h: 1080, color: 0xff000000,\n            Spinner:{\n                mount: 0.5, x: 960, y: 540, src: Utils.asset(\"spinner.png\")\n            }\n        }\n    }\n\n    _init(){\n        this._spinner = this.tag(\"Spinner\").animation({\n            duration: 2, repeat: -1, actions:[\n                {p:\"rotation\", v:{0:0, 1: Math.PI * 2}}\n            ]\n        });\n    }\n\n    _active(){\n        this._spinner.start();\n    }\n\n    _inactive(){\n        this._spinner.stop();\n    }\n\n}","import { Utils } from 'wpe-lightning-sdk' \n\nexport default class MainSliderItem extends lng.Component{\n    static _template(){\n        return {\n            rect: true, color: 0xffffffff, w: 370, h: 556, scale:1,\n            transitions:{scale:{duration:0.3, delay:0.05}}\n        }\n    }\n\n    set item(v){\n        this._item = v;\n        this.patch({\n            src:Utils.asset(`${v.path}/posterS.jpg`)\n        });\n    }\n\n    get item(){\n        return this._item;\n    }\n\n    _focus(){\n        this.setSmooth(\"scale\",1.1);\n    }\n\n    _unfocus(){\n        this.setSmooth(\"scale\",1);\n    }\n\n    static _states(){\n        return [\n\n        ]\n    }\n\n    static get width(){\n        return 385;\n    }\n\n    static get height(){\n        return 556;\n    }\n}","import SliderItem from \"./SliderItem.js\";\n\nexport default class Slider extends lng.Component {\n    static _template(){\n        return {\n            alpha: 0.5,\n            Title:{\n                text:{text:\"\", fontSize:40, fontFace:\"verdana\"}\n            },\n            Items:{\n                y:100\n            }\n        }\n    }\n\n    set data(v){\n        const {label, data} = v;\n        this.patch({\n            Title:{\n                text:{text:label.toUpperCase()}\n            },\n            Items:{\n                children: data.map((item, idx)=>{\n                    return {type: SliderItem, x:idx*350, item:item, scale:0.9}\n                })\n            }\n        });\n    }\n\n    _init(){\n        this._index = 0;\n    }\n\n    _focus(){\n        this.setSmooth(\"alpha\",1);\n        this._setState(\"Expanded\");\n        this._setIndex();\n    }\n\n    _unfocus(){\n        this.setSmooth(\"alpha\",0.5);\n        this._setState(\"Collapsed\");\n    }\n\n    get items(){\n        return this.tag(\"Items\").children;\n    }\n\n    get active(){\n        return this.items[this._index];\n    }\n\n    _handleLeft(){\n        if(this._index > 0){\n            this._setIndex(this._index-1);\n        }\n    }\n\n    _handleRight(){\n        if(this._index < this.items.length - 1){\n            this._setIndex(this._index+1);\n        }\n    }\n\n    _handleEnter(){\n        this.fireAncestors(\"$onItemSelect\",{item:this.active.item});\n    }\n\n    _setIndex(index=this._index){\n        this._index = index;\n        this.patch({\n            Items:{\n                smooth:{x: !index?0:(index*-440)}\n            }\n        });\n    }\n\n    _getFocused(){\n        return this.active;\n    }\n\n\n    static _states(){\n        return [\n            class Expanded extends this{\n                $enter(){\n                    this.setSmooth(\"alpha\",1);\n                    this.items.forEach((item, idx)=>{\n                        item.patch({\n                            smooth:{\n                                x: [idx * 440, {duration:0.3, delay:idx*0.04}],\n                                scale: 1\n                            }\n                        });\n                    });\n                }\n            },\n            class Collapsed extends this{\n                $enter(){\n                    this.setSmooth(\"alpha\",0.5);\n                    this.items.forEach((item, idx)=>{\n                        item.patch({\n                            smooth:{\n                                x: [idx * 350, {duration:0.3, delay:idx*0.03}],\n                                scale: 0.9\n                            }\n                        });\n                    });\n                }\n            }\n        ]\n    }\n}\n","import Slider from \"../components/Slider.js\";\n\nexport default class Browse extends lng.Component{\n\n    static _template(){\n        return {\n            Sliders:{\n\n            }\n        }\n    }\n\n    set data(v){\n        this.patch({\n            Sliders:{\n                children: v.map((data, idx)=>{\n                    return {type: Slider, data, y: idx * 680}\n                })\n            }\n        });\n    }\n\n    _init(){\n        this._index = 0;\n    }\n\n    get items(){\n        return this.tag(\"Sliders\").children;\n    }\n\n    get active(){\n        return this.items[this._index];\n    }\n\n    _getFocused(){\n        return this.active;\n    }\n\n    _handleUp(){\n        if(this._index > 0){\n            this.setIndex(this._index - 1);\n        }else{\n            return false;\n        }\n    }\n\n    _handleDown() {\n        if (this._index < this.items.length - 1) {\n            this.setIndex(this._index + 1);\n        }\n    }\n\n    setIndex(index = this._index){\n        this._index = index;\n        this.patch({\n            Sliders:{\n                smooth:{y: !index ? 0 : index * -640}\n            }\n        });\n    }\n}","import { Utils } from 'wpe-lightning-sdk' \n\nexport default class Details extends lng.Component{\n\n    static _template(){\n        return {\n            rect: true, w: 1920, h: 1080, color: 0xff000000,\n            Blur: {\n                type: lng.components.FastBlurComponent, amount: 0, w: 1920, h:1080,\n                transitions:{\n                    amount:{duration:2.1, delay:0.4},\n                    alpha:{duration:1, delay:2.5}\n                }\n            },\n            Details:{\n                x: 250, y: 300, flex:{direction:\"row\"}, w: 1000, alpha: 0,\n                Poster:{\n                    flexItem:{\n                        marginRight: 150\n                    }\n                },\n                Metadata:{\n                    flex: {\n                        direction: \"column\"\n                    },\n                    Title:{\n                        w: 900, text:{fontFace:\"RobotoRegular\", fontSize:51, lineHeight:50},\n                    },\n                    Year:{\n                        w: 900,  text:{fontFace:\"RobotoRegular\", fontSize:28, lineHeight:50}\n                    },\n                    Info:{\n                        w: 700, text:{fontFace:\"RobotoRegular\", fontSize:39, lineHeight:60}\n                    }\n                }\n            }\n\n        }\n    }\n\n    _init(){\n        this._blur  = this.tag(\"Blur\").content;\n\n        this._events = {\n            showDetails: ()=>{\n                const amount = this.tag(\"Blur\").amount;\n                if(amount === 3){\n                    this.tag(\"Details\").patch({\n                        smooth:{\n                            alpha: 1, y: 150\n                        }\n                    });\n                }\n            }\n        };\n\n        this._register();\n    }\n\n    _register(){\n        this.tag(\"Blur\").transition(\"amount\").on(\"finish\",this._events.showDetails);\n    }\n\n    set asset(v){\n        this._asset = v;\n        this._updateDetails(v);\n    }\n\n    _updateDetails({path, cast, title, year, info}){\n        this.patch({\n            Details:{\n                Poster:{\n                    src: Utils.asset(`${path}/posterS.jpg`)\n                },\n                Metadata:{\n                    Title:{text:{text:title}},\n                    Year:{text:{text:`released: ${year}`}},\n                    Info:{text:{text:info}}\n                }\n            }\n        });\n    }\n\n    _focus() {\n        this.tag(\"Blur\").patch({\n            smooth:{\n                amount:3,\n                alpha: 0.4\n            }\n        });\n    }\n\n    _unfocus(){\n        this.patch({\n            Blur:{\n                smooth:{\n                    amount:0,\n                    alpha: 1\n                }\n            },\n            Details:{\n                smooth:{\n                    alpha: 0,\n                    y: 300\n                }\n            }\n\n        });\n    }\n}","export default class Menu extends lng.Component{\n\n    static _template(){\n        return {\n            flex:{\n                direction: \"row\"\n            }\n        }\n    }\n\n    _init(){\n        this._index = 0;\n        this.patch({\n            Movies:{\n                type: MenuItem, item:{label:\"Movies\", ref:\"Movies\"}\n            }\n        });\n\n        const shows = this.stage.c({\n            type: MenuItem, item:{label:\"Series\", ref:\"TvShows\"}\n        });\n\n        this.childList.add(shows);\n    }\n\n    get items(){\n        return this.children;\n    }\n\n    get active(){\n        return this.items[this._index];\n    }\n\n    _handleLeft(){\n        if(this._index > 0){\n            this.setIndex(this._index - 1)\n        }\n    }\n\n    _handleRight(){\n        if(this._index < this.items.length - 1){\n            this.setIndex(this._index + 1)\n        }\n    }\n\n    setIndex(index){\n        this._index = index;\n    }\n\n    _getFocused(){\n        return this.active;\n    }\n\n    _handleEnter(){\n        this.signal(\"select\",{item:this.active.item});\n    }\n}\n\nclass MenuItem extends lng.Component{\n    static _template(){\n        return {\n            text:{fontSize:40, fontFace:\"verdana\"}, flexItem: {\n                marginRight:30\n            }\n        }\n    }\n\n    set item(v){\n        this._item = v;\n        this.text.text = v.label;\n    }\n\n    get item(){\n        return this._item;\n    }\n\n    _focus(){\n        this.setSmooth(\"scale\",1.2);\n    }\n\n    _unfocus(){\n        this.setSmooth(\"scale\",1);\n    }\n}","/*\n* If not stated otherwise in this file or this component's LICENSE file the\n* following copyright and licenses apply:\n*\n* Copyright 2020 RDK Management\n*\n* Licensed under the Apache License, Version 2.0 (the License);\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n* http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\nimport { Lightning, Utils } from 'wpe-lightning-sdk' \nimport Player from './Player.js'\nimport Api from \"../lib/Api.js\";\nimport Splash from \"./loader/Splash.js\";\nimport Loader from \"./loader/Loader.js\";\nimport Browse from \"./browse/Browse.js\";\nimport Details from \"./details/Details.js\";\nimport Menu from \"./menu/Menu.js\";\n\nexport default class App extends Lightning.Component {\n  static getFonts() {\n    return [{ family: 'RobotoBold', url: Utils.asset('fonts/Roboto-Bold.ttf') },\n    { family: 'RobotoRegular', url: Utils.asset('fonts/Roboto-Regular.ttf') }\n  ]\n}\n\nstatic _template() {\n  return {\n    Splash:{\n      type: Splash, signals:{animationFinished: true}, alpha: 0\n    },\n    Movies:{\n      type: Browse, x: 100, y: 150, alpha: 0\n    },\n    TvShows:{\n      type: Browse, x: 100, y: 150, alpha: 0\n    },\n    Menu:{\n      type: Menu, x: 1550, y: -100, alpha:0.5, signals:{select: true}\n    },\n    Details:{\n      type: Details, signals:{detailsLoaded:\"_loaded\"}, alpha: 0.001\n    },\n    Loader:{\n      type: Loader, alpha: 0\n    }\n  };\n}\n\n_construct(){\n  this._api = new Api();\n}\n\n_init(){\n  this._setState(\"Splash\");\n}\n\n$api(){\n  return this._api;\n}\n\n$onItemSelect({item}){\n  this._setState(\"Loading\");\n  this.tag(\"Details\").asset = item;\n}\n\n_populate(data){\n  data.forEach((props)=>{\n    this.tag(props.ref).data = props.data;\n  });\n}\n\n_handleUp(){\n  this._setState(\"Menu\");\n}\n\nstatic _states(){\n  return [\n    class Splash extends this{\n      $enter(){\n        this.tag(\"Splash\").setSmooth(\"alpha\",1);\n        this._api.getAppData().then((data)=>{\n          this.tag(\"Splash\").startAnimation();\n          this._populate(data);\n        })\n      }\n      animationFinished(){\n        this._setState(\"Movies\");\n        this.tag(\"Menu\").setSmooth(\"y\", 50);\n      }\n    },\n    class Loading extends this {\n      _captureKey(){\n        // capture\n      }\n      $enter({prevState}){\n        this._appReturnState = prevState;\n        this.tag(\"Loader\").setSmooth(\"alpha\",1);\n      }\n      $exit(){\n        this.tag(\"Loader\").setSmooth(\"alpha\",0);\n      }\n      _loaded(){\n        setTimeout(()=>{\n          this._setState(\"Details\");\n        },2000);\n      }\n    },\n    class Menu extends this {\n      $enter({prevState}){\n        this._menuReturnState = prevState;\n        this.tag(\"Menu\").setSmooth(\"alpha\",1);\n      }\n      $exit(){\n        this.tag(\"Menu\").setSmooth(\"alpha\",0.5);\n      }\n      _getFocused(){\n        return this.tag(\"Menu\");\n      }\n      _handleDown(){\n        this._setState(this._menuReturnState);\n      }\n      select({item}){\n        const {ref} = item;\n        if(this.tag(ref)){\n          this.tag(this._menuReturnState).setSmooth(\"alpha\",0);\n          this._setState(ref);\n        }\n      }\n    },\n    class Movies extends this{\n      $enter(){\n        this.tag(\"Movies\").setSmooth(\"alpha\",1);\n      }\n      $exit({newState}){\n        this.tag(\"Movies\").setSmooth(\"alpha\",newState===\"Menu\"?1:0);\n      }\n      _getFocused(){\n        return this.tag(\"Movies\");\n      }\n    },\n    class TvShows extends this{\n      $enter(){\n        this.tag(\"TvShows\").setSmooth(\"alpha\",1);\n      }\n      $exit({newState}){\n        this.tag(\"TvShows\").setSmooth(\"alpha\",newState===\"Menu\"?1:0);\n      }\n      _getFocused(){\n        return this.tag(\"TvShows\");\n      }\n    },\n    class Details extends this {\n      $enter(){\n        this.tag(\"Details\").setSmooth(\"alpha\", 1);\n      }\n      $exit(){\n        this.tag(\"Details\").setSmooth(\"alpha\", 0.001);\n      }\n      _handleBack(){\n        this._setState(this._appReturnState);\n      }\n      _getFocused(){\n        return this.tag(\"Details\");\n      }\n    }\n  ]\n}\n}\n","/*\n * If not stated otherwise in this file or this component's LICENSE file the\n * following copyright and licenses apply:\n *\n * Copyright 2020 RDK Management\n *\n * Licensed under the Apache License, Version 2.0 (the License);\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Launch } from 'wpe-lightning-sdk'\nimport App from './App.js'\n\nexport default function() {\n  return Launch(App, ...arguments)\n}\n"],"names":["isMergeableObject","value","isNonNullObject","isSpecial","stringValue","Object","prototype","toString","call","isReactElement","canUseSymbol","Symbol","for","REACT_ELEMENT_TYPE","$$typeof","emptyTarget","val","Array","isArray","cloneUnlessOtherwiseSpecified","options","clone","deepmerge","defaultArrayMerge","target","source","concat","map","element","getMergeFunction","key","customMerge","getEnumerableOwnPropertySymbols","getOwnPropertySymbols","filter","symbol","propertyIsEnumerable","getKeys","keys","propertyIsOnObject","object","property","_","propertyIsUnsafe","hasOwnProperty","mergeObject","destination","forEach","arrayMerge","sourceIsArray","targetIsArray","sourceAndTargetTypesMatch","all","deepmergeAll","array","Error","reduce","prev","next","deepmerge_1","cjs","window","lng","Locale","__enabled","path","fetch","then","resp","json","loadFromObject","lang","language","trObj","__trObj","values","str","LocalizedString","args","sub","string","arg","index","split","join","String","settings","initSettings","appSettings","platformSettings","get","type","has","prepLog","colors","Info","Debug","Warn","from","length","shift","info","Settings","console","log","apply","arguments","debug","error","warn","sendMetric","event","params","Log","initMetrics","config","metrics","app","page","user","media","errorMetric","message","code","visible","Metric","events","obj","name","Metrics","types","url","VersionLabel","version","tag","text","loadTexture","w","renderWidth","rect","color","h","x","y","mount","Text","fontSize","textAlign","Lightning","Component","FpsIndicator","interval","threshold","fps","lastFps","fpsCalculator","stage","dt","on","off","setInterval","showFps","bind","clearInterval","Math","abs","bgColor","setSmooth","texture","Tools","getRoundRect","Background","Counter","defaultOptions","clearColor","canvas2d","defaultFontFace","innerHeight","App","appData","Deepmerge","Promise","loadFonts","fonts","getFonts","load","locale","getLocale","loaded","childList","a","ref","forceZIndexContext","showVersion","FpsCounter","catch","closeApp","onClose","close","remove","gc","destroy","resolve","reject","family","descriptors","fontFace","FontFace","document","add","promise","method","Application","basePath","proxyUrl","initUtils","ensureUrlWithProtocol","makeFullStaticPath","location","pathname","asset","relPath","makeQueryString","test","protocol","origin","charAt","cleanUpPathName","substr","slice","parts","indexOf","pop","operator","encodeURIComponent","ScaledImageTexture","_scalingOptions","undefined","_src","src","resizeMode","textures","ImageTexture","imageUrl","imageServerUrl","make","Utils","setOptions","exact","landscape","portrait","w_but_actually_h","deprecated_h","cover","contain","original","crop","fit","parent","height","width","auto","formatLocale","toLowerCase","toUpperCase","defaultValue","navigator","getLanguage","getCountryCode","countryCode","getLatLon","geoLocationSuccess","success","coords","latitude","longitude","geoLocationError","geoLocationOptions","enableHighAccuracy","timeout","maximumAge","geolocation","getCurrentPosition","defaultProfile","ageRating","city","ip","household","latlon","mac","platform","packages","uid","stbType","getInfo","profile","setInfo","initProfile","getOrSet","mediaUrl","initMediaPlayer","Mediaplayer","_skipRenderToTexture","_metrics","_textureMode","videoEls","getElementsByTagName","videoEl","createElement","setAttribute","style","position","zIndex","display","visibility","textureMode","body","appendChild","_createVideoTexture","eventHandlers","handler","e","currentTime","fire","videoElement","push","addEventListener","removeEventListener","_registerListeners","_deregisterListeners","gl","glTexture","createTexture","bindTexture","TEXTURE_2D","texParameteri","TEXTURE_MAG_FILTER","LINEAR","TEXTURE_MIN_FILTER","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","videoTexture","_updateVideoTexture","videoWidth","active","Date","getTime","frameCount","webkitDecodedFrameCount","mustUpdate","_lastFrame","_lastTime","pixelStorei","UNPACK_PREMULTIPLY_ALPHA_WEBGL","texImage2D","RGBA","UNSIGNED_BYTE","videoTextureView","videoHeight","expectedAspectRatio","realAspectRatio","scaleX","scaleY","_stopUpdatingVideoTexture","forceRenderUpdate","_updatingVideoTexture","removeListener","clear","COLOR_BUFFER_BIT","_consumer","consumer","getMediaplayerSettings","assign","equalValues","_stream","stream","keySystem","requestMediaKeySystemAccess","id","keySystemAccess","createMediaKeys","createdMediaKeys","setMediaKeys","open","Hls","isSupported","_hls","liveDurationInfinity","loadSource","attachMedia","_setHide","hide","_setVideoArea","videoPos","videoPosition","application","noVideo","getAttribute","reload","pause","removeAttribute","_clearSrc","isPlaying","doPause","doPlay","_getState","play","pos","duration","time","absolute","_videoPos","patch","smooth","precision","getRenderPrecision","left","round","top","buf1","buf2","byteLength","dv1","Int8Array","dv2","i","_fireConsumer","_setState","video","mediaKeys","_equalInitData","_previousInitData","initData","v","muted","loop","Video","VideoWrap","VideoTexture","pivot","StaticTexture","_startUpdatingVideoTexture","localCookie","forceCookies","_checkIfLocalStorageWorks","getItem","_getItemLocalStorage","setItem","_setItemLocalStorage","removeItem","_removeItemLocalStorage","_clearLocalStorage","_getItemCookie","_setItemCookie","_removeItemCookie","_clearCookies","localStorage","t","cookie","match","RegExp","replace","namespace","lc","initStorage","namespacedKey","plugins","mediaPlayer","Player","updateSettings","seek","MediaPlayer","Api","promises","_getMovies","_getTvShows","response","data","Splash","_createAnimations","_register","_reveal","animation","repeat","delay","actions","p","signal","_start","GrayBackdrop","scale","rotation","Logo","start","Loader","_spinner","PI","stop","Spinner","MainSliderItem","_item","transitions","Slider","_index","_setIndex","items","fireAncestors","item","Items","label","Title","children","idx","SliderItem","alpha","Browse","setIndex","Sliders","Details","_blur","content","_events","showDetails","amount","transition","cast","title","year","Poster","Metadata","Year","Blur","_asset","_updateDetails","components","FastBlurComponent","flex","direction","flexItem","marginRight","lineHeight","Menu","Movies","MenuItem","shows","c","_api","props","signals","animationFinished","TvShows","select","detailsLoaded","getAppData","startAnimation","_populate","prevState","_appReturnState","setTimeout","_menuReturnState","newState","Launch"],"mappings":"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"}